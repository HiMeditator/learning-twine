:: DisplayMacros

<h2>"""<<= expression>> and <<print expression>> and <<- expression>>"""</h2>\
\
<<set _gold = 5>>\
You found <<= _gold>> gold.
You found <<print _gold>> gold.
You found <<- _gold>> gold.

<<set _PI=3.141592653589793238>>\
PI approximately equals <<= _PI.toFixed(2)>>.
PI approximately equals <<print _PI.toFixed(2)>>.
PI approximately equals <<- _PI.toFixed(2)>>.

<<set _emoji='ğŸ˜Š<^_^>'>>\
You face: <<= _emoji>>.
You face: <<print _emoji>>.
You face: <<- _emoji>>.


<h2>"""<<do [tag tags] [element tag]>> â€¦ <</do>> and <<redo [tags]>>"""</h2>\
\
æ˜¾ç¤ºå…¶å†…å®¹ã€‚ç›‘å¬ <<redo>> å®å‘½ä»¤ï¼Œæ”¶åˆ°å‘½ä»¤æ—¶æ›´æ–°å…¶å†…å®¹ã€‚
Displays its contents. Listens for <<redo>> macro commands upon which it updates its contents.

<<set _money to 10>>\
''Money:'' <<do>>_money<</do>>
\
<<link "Update money display">>\
	<<set _money += 10>>\
	<<redo>>\
<</link>>

<<set _key to "">>
<<do>>\
	<<if _key>>\
		You have the _key key.
	<<else>>\
		You do not have a key.
	<</if>>\
<</do>>\
\
<<link "Update key display">>\
	<<set _key to ["", "red", "blue", "skull"].random()>>\
	<<redo>>
<</link>>


''Foo:'' <<do tag "foo foobar">><<= ["fee", "fie", "foe", "fum"].random()>><</do>>
''Bar:'' <<do tag "bar foobar">><<= ["alfa", "bravo", "charlie", "delta"].random()>><</do>>
\
<<link "Update foo">>\
	<<redo "foo">>\
<</link>>\
<<link "Update bar">>\
	<<redo "bar">>\
<</link>>\
<<link "Update foo & bar (1)">>\
	<<redo "foo bar">>\
<</link>>
<<link "Update foo & bar (2)">>\
	<<redo "foobar">>\
<</link>>


<h2>"""<<include passageName [elementName]>> and <<include linkMarkup [elementName]>>"""</h2>\
\
è¾“å‡ºå…·æœ‰ç»™å®šåç§°çš„æ®µè½çš„å†…å®¹ï¼Œå¯é€‰æ‹©å°†å…¶åŒ…è£…åœ¨ HTML å…ƒç´ ä¸­ã€‚å¯ä»¥ä½¿ç”¨æ®µè½åç§°æˆ–é“¾æ¥æ ‡è®°æ¥è°ƒç”¨ã€‚
Outputs the contents of the passage with the given name, optionally wrapping it within an HTML element. May be called either with the passage name or with a link markup.

æ®µè½åç§°å½¢å¼
* passageNameï¼šè¦åŒ…å«çš„æ®µè½åç§°ã€‚
* elementNameï¼šï¼ˆå¯é€‰ï¼‰åŒ…è£…æ‰€åŒ…å«æ®µè½çš„ HTML å…ƒç´ ã€‚å¦‚æœä½¿ç”¨ï¼Œè¯¥å…ƒç´ å°†åŒ…å«æ ‡å‡†åŒ–ä¸ºç±»åçš„æ®µè½åç§°ã€‚æ›´å¤šä¿¡æ¯è¯·å‚è§ CSS æ®µè½è½¬æ¢ã€‚
Passage name form
* passageName: The name of the passage to include.
* elementName: (optional) The HTML element to wrap the included passage in. If used, the element will include the passage's name normalized into a class name. See CSS passage conversions for more information.

é“¾æ¥æ ‡è®°å½¢å¼
* linkMarkupï¼šè¦ä½¿ç”¨çš„é“¾æ¥æ ‡è®°ï¼ˆä»…å¸¸è§„è¯­æ³•ï¼Œæ— è®¾ç½®å™¨ï¼‰ã€‚
* elementNameï¼šä¸æ®µè½åç§°å½¢å¼ç›¸åŒã€‚
Link markup form
* linkMarkup: The link markup to use (regular syntax only, no setters).
* elementName: Identical to the passage name form.


<<include "ResultDisplay">>
<<include [[ResultDisplay]]>>
<<include "ResultDisplay" "div">>
<<include [[ResultDisplay]] "div">>


<h2>"""<<nobr>> â€¦ <</nobr>>"""</h2>\
\
<<set _feeling to "blue">>\
I'd like a <<nobr>>
<<if _feeling eq "blue">>
blueberry
<<else>>
cherry
<</if>>
<</nobr>> pie.

<h2>"""<<silent>> â€¦ <</silent>>"""</h2>\
\
<<set _seconds to 20>>\
Countdown: <span id="countdown">_seconds seconds remaining</span>!\
<<silent>>
	<<repeat 1s>>
		<<set _seconds to _seconds - 1>>
		<<if _seconds gt 0>>
			<<replace "#countdown">>_seconds seconds remaining<</replace>>
		<<else>>
			<<replace "#countdown">>Too Late<</replace>>
			/* do something useful here */
			<<stop>>
		<</if>>
	<</repeat>>
<</silent>>


<h2>"""<<type speed [start delay] [class classes] [element tag] [id ID] [keep|none] [skipkey key]>>â€¦<</type>>"""</h2>\
\
å‚æ•°ï¼š
* speedï¼šå­—ç¬¦æ‰“å­—çš„é€Ÿç‡ï¼Œä½œä¸ºæœ‰æ•ˆçš„ CSS æ—¶é—´å€¼â€”â€”ä¾‹å¦‚ï¼Œ1s å’Œ 40msã€‚20â€“60ms èŒƒå›´å†…çš„å€¼æ˜¯ä¸€ä¸ªå¥½çš„èµ·ç‚¹ã€‚0s å’Œ 0ms çš„å€¼ä¼šä½¿æ‰“å­—ç«‹å³å®Œæˆã€‚
* start delayï¼šï¼ˆå¯é€‰ï¼‰å»¶è¿Ÿå¼€å§‹æ‰“å­—çš„æ—¶é—´é‡ï¼Œä½œä¸ºæœ‰æ•ˆçš„ CSS æ—¶é—´å€¼â€”â€”ä¾‹å¦‚ï¼Œ5s å’Œ 500msã€‚å¦‚æœçœç•¥ï¼Œé»˜è®¤ä¸º 400msã€‚
* class classesï¼šï¼ˆå¯é€‰ï¼‰è¦æ·»åŠ åˆ°æ‰“å­—å®¹å™¨çš„ç±»åˆ—è¡¨ï¼Œä»¥ç©ºæ ¼åˆ†éš”ã€‚
* element tagï¼šï¼ˆå¯é€‰ï¼‰ç”¨ä½œæ‰“å­—å®¹å™¨çš„å…ƒç´ â€”â€”ä¾‹å¦‚ï¼Œdiv å’Œ spanã€‚å¦‚æœçœç•¥ï¼Œé»˜è®¤ä¸º divã€‚
* id IDï¼šï¼ˆå¯é€‰ï¼‰è¦åˆ†é…ç»™æ‰“å­—å®¹å™¨çš„å”¯ä¸€ IDã€‚
* keepï¼šï¼ˆå¯é€‰ï¼‰å…³é”®å­—ï¼Œç”¨äºè¡¨ç¤ºæ‰“å­—å®Œæˆååº”ä¿ç•™å…‰æ ‡ã€‚
* noneï¼šï¼ˆå¯é€‰ï¼‰å…³é”®å­—ï¼Œç”¨äºè¡¨ç¤ºæ ¹æœ¬ä¸åº”ä½¿ç”¨å…‰æ ‡ã€‚
* skipkeyï¼šï¼ˆå¯é€‰ï¼‰ç”¨äºä½¿æ‰“å­—ç«‹å³å®Œæˆçš„é”®ã€‚å¦‚æœçœç•¥ï¼Œé»˜è®¤ä¸º Config.macros.typeSkipKey çš„å€¼ã€‚


æ‰“å­—æ–‡æœ¬æ²¡æœ‰é»˜è®¤æ ·å¼ã€‚å¦‚æœä½ æƒ³æ›´æ”¹å­—ä½“æˆ–é¢œè‰²ï¼Œé‚£ä¹ˆä½ éœ€è¦æ›´æ”¹ macro-type ç±»çš„æ ·å¼ã€‚ä¾‹å¦‚ï¼š
<html><pre>
css.macro-type {
	color: limegreen;
	font-family: monospace, monospace;
}
</pre></html>
è¿˜æœ‰ä¸€ä¸ª macro-type-done ç±»ä¼šæ·»åŠ åˆ°å·²å®Œæˆæ‰“å­—çš„æ–‡æœ¬ä¸­ï¼Œå¯ä»¥ç”¨æ¥ä¸ºå…¶è®¾ç½®ä¸æ­£åœ¨æ‰“å­—çš„æ–‡æœ¬ä¸åŒçš„æ ·å¼ã€‚
é»˜è®¤å…‰æ ‡æ˜¯å—å…ƒç´ å­—ç¬¦ Right Half Block (U+2590)ï¼Œå®ƒæ²¡æœ‰é»˜è®¤çš„å­—ä½“æˆ–é¢œè‰²æ ·å¼ã€‚å¦‚æœä½ æƒ³æ›´æ”¹å­—ä½“ã€é¢œè‰²æˆ–å­—ç¬¦ï¼Œé‚£ä¹ˆä½ éœ€è¦æ›´æ”¹ macro-type-cursor ç±»çš„ :after ä¼ªå…ƒç´ çš„æ ·å¼ã€‚ä¾‹å¦‚ï¼š
<html><pre>
css.macro-type-cursor:after {
	color: limegreen;
	content: "\269C\FE0F"; /* Fleur-de-lis emoji */
	font-family: monospace, monospace;
}
</pre></html>

<<type 40ms>>
	Type characters from this content every 40 milliseconds.  Including [[ResultDisplay]] and ''other markup''!
<</type>>

<<type 40ms start 2s>>
	Type characters from this content every 40 milliseconds, starting after a 2 second delay.
<</type>>

<<type 40ms class "foo bar">>
	Type characters from this content every 40 milliseconds, adding classes to the typing container.
<</type>>

<<type 40ms element "span">>
	Type characters from this content every 40 milliseconds, using a """<span>""" as the typing container.
<</type>>

<<type 40ms id "type01">>
	Type characters from this content every 40 milliseconds, assigning an ID to the typing container.
<</type>>

<<type 40ms keep>>
	Type characters from this content every 40 milliseconds, keeping the cursor after typing is complete.
<</type>>

<<type 40ms skipkey "Control">>
	Type characters from this content every 40 milliseconds, using the Control (CTRL) key as the skip key.
<</type>>